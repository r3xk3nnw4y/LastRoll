{% extends "shop/base.html" %}
{% block title %}Pending Seller Applications{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">Pending Seller Applications</h2>

  {% for app in sellers %}
  <div class="card mb-4 shadow-sm p-4">
    <h5 class="card-title">{{ app.store_name }}</h5>
    <p><strong>Applicant Username:</strong> {{ app.user.username }}</p>
    <p><strong>Email:</strong> {{ app.user.email }}</p>
    <p><strong>Location:</strong> {{ app.location|default:"Not specified" }}</p>
    <p><strong>Description:</strong> {{ app.description|default:"No description" }}</p>
    <p><strong>Status:</strong> {{ app.get_status_display }}</p>
    <p><small>Submitted at: {{ app.submitted_at }}</small></p>

    <div class="mt-3">
      <form method="post" action="{% url 'shop-update-seller-status' app.id %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" name="action" value="approve" class="btn btn-success btn-sm">Approve</button>
      </form>
      <form method="post" action="{% url 'shop-update-seller-status' app.id %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" name="action" value="deny" class="btn btn-danger btn-sm">Deny</button>
      </form>
    </div>
  </div>
  {% empty %}
    <p class="text-center text-muted">No pending seller applications found.</p>
  {% endfor %}
</div>
{% endblock %}
